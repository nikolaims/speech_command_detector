# Решение Тестового задания в отдел “Data Analytics”
Выполнил **Николай Сметанин**


## 1. Приложение для детектирования заданного аудио-шаблона
### 1.1. Установка
1. Установить менеджер пакетов conda, например 
   [Miniconda](https://docs.conda.io/en/latest/miniconda.html)
1. Склонировать репозиторий и перейти в корневую папку
1. Создать среду в соответствии с 
   [`environment.yml`](https://github.com/nikolaims/siemens_test_task/blob/master/environment.yml):
    ```
    conda env create -f environment.yml
    ```
1. Установить пакет 
   [`solution`](https://github.com/nikolaims/siemens_test_task/blob/master/solution):
   ```
   pip install -e .
   ```

### 1.2. Использование
Приложение поддерживает 3 разных режима работы:
1.  Декодирование из `.wav` файла и визуализация разметки аудио:
    ```
    python app.py file PATH
    ```
    В аргументе `PATH` необходимо указать путь к аудио файлу. Поддерживаются моно и стерео записи в формате `.wav`
    с произвольной частотой дискретизации. Для анализа берется только первый канал, а частота дискретизации 
    ресемплируется к 16kHz.
    
2. Запись аудио с микрофона, с последующим декодированием и визуализацией:
   ```
   python app.py mic -r SEC
   ```
   В аргументе `SEC` необходимо указать длину записи в секундах. Запись начнется после вывода надписи *ON AIR*.
3. Декодирование и визуализация аудиопотока из микрофона в режиме реального времени:
   ```
   python app.py mic
   ```